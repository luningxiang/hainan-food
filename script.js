// Food items
const menu = [
  {
    name_zh: "海南薏粑",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑2",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑3",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑4",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑5",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑6",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑7",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑8",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑9",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "海南薏粑10",
    name_en: "Hainanese Yi Bua",
    price: "$1.60",
    image: "img/hainanKuih.jpg",
    category: "kuih"
  },
  {
    name_zh: "牛油馒头",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "牛油馒头2",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "牛油馒头3",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
    {
    name_zh: "牛油馒头4",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "牛油馒头5",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
    {
    name_zh: "牛油馒头",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "牛油馒头6",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
    {
    name_zh: "牛油馒头7",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "牛油馒头8",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
    {
    name_zh: "牛油馒头9",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "牛油馒头10",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
    {
    name_zh: "牛油馒头11",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "牛油馒头12",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
    {
    name_zh: "牛油馒头13",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "牛油馒头",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
    {
    name_zh: "牛油馒头14",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "牛油馒头15",
    name_en: "Butter Buns",
    price: "$1.60",
    image: "img/mantou.jpg",
    category: "bao"
  },
  {
    name_zh: "清补凉",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉2",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉3",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉4",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉5",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉6",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉7",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉8",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉9",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉10",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉11",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉12",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉13",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉14",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
  {
    name_zh: "清补凉15",
    name_en: "Herbal Dessert",
    price: "$11.75",
    image: "https://source.unsplash.com/600x400/?ramen",
    category: "dessert"
  },
];

const menuContainer = document.getElementById('menu');
const categoryButtons = document.querySelectorAll('#category-menu button');

// Render menu items
function renderMenu(category) {
  menuContainer.innerHTML = '';
  let filteredMenu = menu;
  if (category && category !== 'all') filteredMenu = menu.filter(item => item.category === category);

  filteredMenu.forEach(item => {
    const div = document.createElement('div');
    div.className = 'food-item';
    div.innerHTML = `
      <img src="${item.image}" alt="${item.name_en}">
      <div class="food-details">
        <h3>
          <span lang="zh">${item.name_zh}</span> <br/>
          <span lang="en">${item.name_en}</span>
        </h3>
        <p>${item.price}</p>
      </div>
    `;
    div.addEventListener('click', () => openModal(item.image, `${item.name_zh} ${item.name_en}`));
    menuContainer.appendChild(div);
  });
}

// Initial render
renderMenu('all');

// Category filter
categoryButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    categoryButtons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    renderMenu(btn.dataset.category);
  });
});

// Modal logic
const modal = document.getElementById("modal");
const modalImg = document.getElementById("modal-img");
const captionText = document.getElementById("caption");
const closeBtn = document.getElementsByClassName("close")[0];

function openModal(imageSrc, caption) {
  modal.classList.add('show');
  modalImg.src = imageSrc;
  captionText.innerHTML = caption;
}

closeBtn.onclick = () => modal.classList.remove('show');
modal.onclick = (e) => { if (e.target === modal) modal.classList.remove('show'); };
document.addEventListener('keydown', (e) => { if (e.key === "Escape") modal.classList.remove('show'); });

// Optional: mobile touch hover mimic
const foodItems = document.querySelectorAll('.food-item');
foodItems.forEach(item => {
  item.addEventListener('touchstart', () => {
    const img = item.querySelector('img');
    img.style.transform = 'scale(1.08)';
  });
  item.addEventListener('touchend', () => {
    const img = item.querySelector('img');
    img.style.transform = 'scale(1.05)';
  });
});
